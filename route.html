<html>
  
<body>
  <pre>
Skip to content
Search or jump to…

Pull requests
Issues
Marketplace
Explore
 
@jscode1972 
jscode1972
/
GCP-Plateform
Private
1
00
Code
Issues
Pull requests
Actions
Projects
Security
Insights
Settings
GCP-Plateform/21-Angular/15-路由設計 (Routing).md
@jscode1972
jscode1972 Update 15-路由設計 (Routing).md
Latest commit cfe89fd 3 minutes ago
 History
 1 contributor
122 lines (110 sloc)  6.21 KB
  
路由設計 Routing
路由設定範例
根路由 routes
子路由 subRoute
路由標記語法
普通標示法 routerLink
參數標示法 [routerLink]
程式操作路由
[注入路由服務](#注入路由服務 Router/ActiavteRoute)
透過程式進行路由導覽
絕對位址
相對位址
取得路由參數
僅抓取一次路由參數
訂閱路由參數的每一次變化
相關連結
路由設定範例
預設 PathLocationStrategy (這個需要 IIS 有支援 url rewrite, 全部導向同一個 url )
其他 HashLocationStrategy (若不支援, /#/path1/path2 )
以下表格參考保哥 使用 Angular 2 Router 快速建構 SPA 網站
<Angular 深入淺出三十天> Day25 - 路由總結（一）
AngularJS 開發實戰：重要的開發觀念與經驗分享
根路由 routes
const routes: Routes = [
  { path: 'home', component: HomeComponent },                     // 二選一
  { path: 'home', component: HomeComponent, children: subRoute }, // 二選一 subRoute =[..]
  { path: 'second', component: SecondComponent},
  { path: 'third', component: ThirdComponent},
  { path: '', component: HomeComponent }             // 二選一  
  { path: '', redirectTo: 'home', pathMatch: 'full'} // 二選一   
  { path: '**', redirectTo: '', pathMatch: 'full' }
];
根路由 routes	輸入動作	uri 結果顯示	動作元件	補充觀念
{ path: 'home', component: HomeComponent }	/home	/home	HomeComponent	
{ path: 'home', component: HomeComponent, children:subRoute }	/home/xx	看下表	看下表	子路由 => subRoute
{ path: 'second', component: SecondComponent }	/second	/second		
{ path: '', component: HomeComponent } 二選一	/	/	HomeComponent	(次之)
{ path: '', redirectTo: 'home', pathMatch: 'full'} 二選一	/	/home	HomeComponent	(建議) full 符合全空
{ path: '**', component: HomeComponent }	/無效網址	/home	HomeComponent	全不符 => 導向 home
子路由 subRoute (承上)
子路由 subRoute	輸入動作	uri 結果顯示	動作元件	補充觀念
{ path: '', component: Home1Component }	待實驗	待實驗	待實驗	
{ path: '', redirectTo: 'home1' }	/home	/home/home1	Home1Component	
{ path: 'home1', component: Home1Component }	/home/home1	/home/home1	Home1Component	
{ path: 'home2', component: Home2Component }	/home/home2	/home/home2	Home2Component	
{ path: ':id', component: HomeDetailComponent }	/home/參數	/home/1	HomeDetailComponent	可接參數
回頂部

路由標記語法
使用宣告 (模組/元件內)
import { RouterModule } from '@angular/router';
標記語法
<!--普通標示法-->
<a routerLink="/first-component" routerLinkActive="active">First Component</a>
<!--參數標示法-->
<a [routerLink]="['/heroes', hero.id]">Heroes</a>
回頂部

程式操作路由
注入路由服務
constructor(private router : Router,
            private route: ActiavteRoute) {}
透過程式進行路由導覽
路由導覽 APIs 常見三種方式
// 絕對位址
this.router.navigateByUrl('home1');   // 1.傳入 string
this.router.navigate(['home', '1']);  // 2.傳入 Array
// 相對位址
this.router.navigate(['1'], {relativeTo: this.route} );  // 3. 相對方式
取得路由參數
取得路由參數的兩種方式

僅抓取一次路由參數
this.id = this.route.snapshot.params['id'];
訂閱路由參數的每一次變化
// 這裡的 this.route.params 是一個 Observable 物件
this.route.params.subscribe(params => {
  this.id = params['id'];
});
回頂部

相關連結 (保哥講義)
Routing & Navigation
Angular 2 Router
Rangle.io : Angular 2 Training
[Routing in Angular revisited]
Protecting Routes using Guards in Angular
The Will Will Web
回頂部

© 2021 GitHub, Inc.
Terms
Privacy
Security
Status
Docs
Contact GitHub
Pricing
API
Training
Blog
About

  </pre>
</body>
</html>
